syntax = "proto3";

package ocr;

service OcrService {
  // Send image bytes and get single prediction or top-K predictions.
  rpc Predict (PredictRequest) returns (PredictResponse);
}

message PredictRequest {
  bytes image = 1;       // full image bytes (PNG/JPEG). Alternatively raw float32 array in bytes if you prefer.
  int32 top_k = 2;       // how many top predictions to return, default 1
}

message Prediction {
  string label = 1;      // e.g. "A", "b", "3"
  float score = 2;       // confidence (0..1)
  int32 class_index = 3; // class index from model
}

message PredictResponse {
  repeated Prediction predictions = 1;
  string error = 2;
}
